#!/bin/sh
# Usage: config-leadpi-slug
# Input and output filename are currently fixed
#    input: personnel.config
#    outputs: leadpi-slug.tex
#
# The leadpi-slug is a short chunk of text that presents the lead PI's
# name, institution, and contact information in a compact two-line
# format.  It is used on the budget summary and abstract, and possibly
# elsewhere.

configfile="personnel.config"
leadfile="leadpi-slug.tex"

###############################################################################
# Lead PI slug
###############################################################################

echo "% Generated by $0 on `date`" > $leadfile

grep -v "^\#" $configfile | \
   awk -F\| '$4 ~ /lpi/ {printf "\\begin{center}\nLead PI: %s %s, \\%s\\\\\nEmail: \\emph{%s}, Telephone: %s, Fax: %s\n\\end{center}", $2, $1, toupper($3), $5, $6, $7}' >> $leadfile
